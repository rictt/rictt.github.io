(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{273:function(t,s,e){},320:function(t,s,e){t.exports=e.p+"assets/img/canvas-brush-ticket-prize.14ef19fe.png"},321:function(t,s,e){t.exports=e.p+"assets/img/canvas-brush-ticket-mask.9fbc93f1.png"},322:function(t,s,e){"use strict";e(273)},373:function(t,s,e){"use strict";e.r(s);var i=[function(){var t=this._self._c;return t("div",{staticClass:"canvas-wrapper"},[t("canvas",{attrs:{id:"canvas"}}),this._v(" "),t("img",{staticClass:"canvas-prize",attrs:{src:e(320),alt:""}})])}],n={name:"brush-ticket",data:()=>({touched:!1,brushRadius:20,data1:null,data2:null,canvas:null,ctx:null}),mounted(){this.init()},methods:{init(){const t=document.querySelector("#canvas"),s=t.getContext("2d");this.ctx=s,this.canvas=t,this.width=450,this.height=350,t.width=450,t.height=350,t.style.width=450,t.style.height=350,t.addEventListener("mousedown",this.mousedown),t.addEventListener("mousemove",this.mousemove),t.addEventListener("mouseup",this.mouseup),this.draw()},loadImage:t=>new Promise((s,e)=>{const i=new Image;i.onload=()=>{s(i)},i.onerror=t=>{console.log(t),e(t)},i.src=t}),async draw(){const t=await this.loadImage(e(321)),s=this.canvas;try{this.ctx.drawImage(t,0,0,s.width,s.height)}catch(t){console.log(t)}},mousedown(){this.touched=!0},windowPositionToCanvasPosition(t,s,e){const i=e.getBoundingClientRect(),{left:n,top:a}=i;return{x:t-n,y:s-a}},mousemove(t){if(!this.touched)return;const{clientX:s,clientY:e}=t,{x:i,y:n}=this.windowPositionToCanvasPosition(s,e,canvas),a=this.ctx;a.save(),a.fillStyle="rgba(238, 238, 238, .5)",a.globalCompositeOperation="destination-out",a.beginPath(i,n),a.arc(i,n,this.brushRadius,0,2*Math.PI),a.closePath(),a.fill(),a.restore()},mouseup(t){this.touched=!1}}},a=(e(322),e(14)),o=Object(a.a)(n,(function(){this._self._c;return this._m(0)}),i,!1,null,"796b4846",null);s.default=o.exports}}]);