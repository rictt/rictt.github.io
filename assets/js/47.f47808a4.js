(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{399:function(a,e,t){"use strict";t.r(e);var s=t(14),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"为什么会有包管理器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么会有包管理器"}},[a._v("#")]),a._v(" 为什么会有包管理器")]),a._v(" "),e("h3",{attrs:{id:"大杂烩时代"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大杂烩时代"}},[a._v("#")]),a._v(" 大杂烩时代")]),a._v(" "),e("p",[a._v("设计之初，javascript只考虑浏览器中使用，不涉及访问本地文件。所以在早些时代的javascript没有包管理这一些概念；不同的模块比如"),e("code",[a._v("moment")]),a._v("，"),e("code",[a._v("jquery")]),a._v("都是通过"),e("code",[a._v("script")]),a._v("加载的方式一个一个怼到html中，变成window的一个个共享变量。"),e("code",[a._v("好处是")]),a._v("模块代码一把嗦？不用太多学习成本，就可以使用知名的模块，节省开发成本；"),e("code",[a._v("坏处是")]),a._v("管理复杂，容易出现变量冲突的情况，脚本依赖容易堵塞，x依赖y，或者y依赖x导致脚本顺序管理心智成本高等等。。")]),a._v(" "),e("h3",{attrs:{id:"npm出现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm出现"}},[a._v("#")]),a._v(" npm出现")]),a._v(" "),e("p",[a._v("2009年大概，nodejs出现，基于v8引擎的js运行环境，让js运行在服务端的开发平台；随后针对nodejs设计的包管理器"),e("code",[a._v("npm")]),a._v("出现；所以并不能直接将npm包管理应用到html页面上（因为浏览器解析不了require）；大概2011-2012年，browserify出现并流行，于是也可以用require的语法进行组织各个模块编写前端打包，最终用browerify打包成浏览器可执行的语句。同时期也有个"),e("code",[a._v("bower")]),a._v("管理器，不啰嗦了。")]),a._v(" "),e("h3",{attrs:{id:"webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[a._v("#")]),a._v(" webpack")]),a._v(" "),e("p",[a._v("一个强大的模块处理工具，万物皆为模块。")]),a._v(" "),e("h3",{attrs:{id:"babel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[a._v("#")]),a._v(" babel")]),a._v(" "),e("p",[a._v("babel并不是一门编程语言。我理解是专门将新一代的es语法通过"),e("code",[a._v("翻译转换")]),a._v("的形式转换成浏览器所支持的语法，以达到新特性功能兼容使用。")]),a._v(" "),e("h4",{attrs:{id:"核心包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#核心包"}},[a._v("#")]),a._v(" 核心包")]),a._v(" "),e("ul",[e("li",[a._v("@babel/core")]),a._v(" "),e("li",[a._v("@babel/preset-env\n需要翻译的语法配置清单，满足大部分的使用场景（新特性已确定，建议使用的）")]),a._v(" "),e("li",[a._v("babel-loader\n结合webpack处理js文件，兼容旧版本")])]),a._v(" "),e("h2",{attrs:{id:"几个问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#几个问题"}},[a._v("#")]),a._v(" 几个问题")]),a._v(" "),e("h3",{attrs:{id:"package-lock-json的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-lock-json的作用"}},[a._v("#")]),a._v(" package-lock.json的作用")]),a._v(" "),e("p",[e("strong",[a._v("问题是这样子的：")]),a._v(" 在项目里安装了webpack、babel之类的npm包，之后vuepress就跑不动了，怀疑是手动安装的版本跟vuepress的冲突了，在手动删除了npm包后重新install发现还是不行；最终百度后删除node_module + lock.json + 重新安装")]),a._v(" "),e("p",[a._v("尝试解释下：package-lock.json用于锁定项目的依赖版本，当有依赖的版本更新会自动更新json并下载依赖。当出现比原本依赖高/超出的版本时，比如手动指定@x.x.x，这个时候lock.json的校验会失效，默认用本地已下载的高版本，结果出现不适配报错的问题；所以需要强制"),e("code",[a._v("npm cache clean --force")]),a._v("，并且手动删除node_modules重新下载。")]),a._v(" "),e("h3",{attrs:{id:"node-modules下bin的作用-为什么有时候可以在终端执行webpack-有时候会报找不到"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-modules下bin的作用-为什么有时候可以在终端执行webpack-有时候会报找不到"}},[a._v("#")]),a._v(" node-modules下"),e("code",[a._v("bin")]),a._v("的作用，为什么有时候可以在终端执行webpack，有时候会报找不到")]),a._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[a._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[a._v('"start"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"webpack"')]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("p",[a._v("通过npm启动的script，会默认执行前加上"),e("code",[a._v("node_modules/.bin")]),a._v("，所以当我们执行"),e("code",[a._v("npm run start")]),a._v("，其实是执行了"),e("code",[a._v("node_modules/.bin/webpack")]),a._v("；")]),a._v(" "),e("p",[a._v("bin其实是一个软链，在package.json下定义bin，就会在安装的时候，自动软链过去。")]),a._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// webpack")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[a._v('"bin"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[a._v('"webpack"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bin/webpack.js"')]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[a._v("#")]),a._v(" 参考链接")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("modern-javascript-dinosaurs"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://nodesource.com/blog/an-absolute-beginners-guide-to-using-npm/",target:"_blank",rel:"noopener noreferrer"}},[a._v("guide-to-using-npm"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://blog.csdn.net/qq_41887214/article/details/120471739",target:"_blank",rel:"noopener noreferrer"}},[a._v("npm-version-system"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/352437367",target:"_blank",rel:"noopener noreferrer"}},[a._v("pnpm-三元"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);