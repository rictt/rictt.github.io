(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{416:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("文章内容来源于Chrome开发者文档，大部分为翻译，加上自己的一点补充或者理解，不足之处请担待，系列将通过每个实战例子，来加深对插件开发的理解上手；")]),t._v(" "),a("p",[t._v("目录导航")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7159443319938875428",target:"_blank",rel:"noopener noreferrer"}},[t._v("chrome浏览器开发系列(一)：hello extension"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7159443757878755364",target:"_blank",rel:"noopener noreferrer"}},[t._v("chrome浏览器开发系列(二)：reading time计算阅读时间"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7159443901193928711",target:"_blank",rel:"noopener noreferrer"}},[t._v("chrome浏览器开发系列(三)：focus mode专注模式"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7159444710384205832",target:"_blank",rel:"noopener noreferrer"}},[t._v("chrome浏览器开发系列(四)：调试我们开发的插件"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7159445226707222558",target:"_blank",rel:"noopener noreferrer"}},[t._v("chrome浏览器开发系列(五)：tabs标签管理"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"_1、了解插件的调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、了解插件的调试"}},[t._v("#")]),t._v(" 1、了解插件的调试")]),t._v(" "),a("p",[t._v("所谓工欲善其事，必先利其器；开发写代码很重要，如何调试我们的代码更重要，不会调试的情况下，会使我们的编码效率事倍功半。这一节我们主要来"),a("code",[t._v("介绍我们自己的chrome插件如何调试，如何debugger打断点")]),t._v("；")]),t._v(" "),a("h2",{attrs:{id:"_2、准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、准备工作"}},[t._v("#")]),t._v(" 2、准备工作")]),t._v(" "),a("p",[t._v("因为要调试代码，所以要先准备好我们的代码；找个地方新建目录"),a("code",[t._v("debugger-demo")]),t._v("，然后创建我们的文件")]),t._v(" "),a("ul",[a("li",[t._v("manifest.json")]),t._v(" "),a("li",[t._v("backgroung.js")]),t._v(" "),a("li",[t._v("script/content.js")]),t._v(" "),a("li",[t._v("popup/popup.html")]),t._v(" "),a("li",[t._v("popup/popup.js")]),t._v(" "),a("li",[t._v("images/...不赘述了")])]),t._v(" "),a("p",[t._v("最后我们的目录结构如下")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("debugger-demo\n├── background.js\n├── images\n│   ├── icon-128.png\n│   ├── icon-16.png\n│   ├── icon-32.png\n│   └── icon-48.png\n├── manifest.json\n├── popup\n│   ├── popup.html\n│   └── popup.js\n└── scripts\n    └── content.js\n")])])]),a("p",[t._v("对应文件的内容如下")]),t._v(" "),a("p",[a("code",[t._v("manifest.json")]),t._v("内容如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n  "manifest_version": 3,\n  "name": "Debugger demo",\n  "version": "1.0",\n  "description": "Debugger chrome Extension demo!",\n  "icons": {\n    "16": "images/icon-16.png",\n    "32": "images/icon-32.png",\n    "48": "images/icon-48.png",\n    "128": "images/icon-128.png"\n  },\n  "action": {\n    "default_popup": "./popup/popup.html",\n    "default_icon": {\n      "16": "/images/icon-16.png",\n      "32": "/images/icon-32.png",\n      "48": "/images/icon-48.png",\n      "128": "/images/icon-128.png"\n    },\n    "default_title": "悬浮标题"\n  },\n  "background": {\n    "service_worker": "background.js"\n  },\n  "content_scripts": [\n    {\n      "js": [\n        "scripts/content.js"\n      ],\n      "matches": [\n        "https://*/*"\n      ]\n    }\n  ]\n}\n')])])]),a("p",[a("code",[t._v("content.js")]),t._v("内容如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Im running in content.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("background.js")]),t._v("内容如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Im running in background.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("popup/popup.js")]),t._v("内容如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Im running in popup.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("popup/popup.html")]),t._v("内容如下：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token special-attr"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token value css language-css"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 300px")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("专门用来debuuger的popup，这里注入了popup.js"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  // 记得注入popup.js\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("popup.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"_3、安装我们的插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装我们的插件"}},[t._v("#")]),t._v(" 3、安装我们的插件")]),t._v(" "),a("p",[t._v("在浏览器中直接"),a("code",[t._v("chrome://extensions")]),t._v("回车进入扩展程序面板，然后加载我们的文件目录，选中文件夹即可，再点确认就可以了；")]),t._v(" "),a("p",[t._v("安装完成后，将插件置顶，然后点击查看效果，也可以使用我们自定义的快捷键快速打开。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fa617d42f1e9437f89f38b7e1c8082e7~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/793eb6eb81b24e6a80fceb24073c50e5~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_4、打开调试面板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、打开调试面板"}},[t._v("#")]),t._v(" 4、打开调试面板")]),t._v(" "),a("p",[a("code",[t._v("首先是content.js")]),t._v("，因为这部分的代码是在manifest.json声明的，当访问的页面地址匹配我们写的正则时，才会进行注入，比如我们写的"),a("code",[t._v("matches")]),t._v("是"),a("code",[t._v("https://*/*")]),t._v("，即只要是https域名就会执行我们的脚本；")]),t._v(" "),a("p",[t._v("所以这部分的调试，需要我们在页面中打开控制面板(右键检查或者F12快捷键)，步骤是：")]),t._v(" "),a("ul",[a("li",[t._v("找一个https的地址")]),t._v(" "),a("li",[t._v("打开控制台，找到sources下的content scripts")]),t._v(" "),a("li",[t._v("找到我们插件的名称Debuuger Demo")]),t._v(" "),a("li",[t._v("其中的content.js就是了")])]),t._v(" "),a("p",[t._v("可以看到显示了我们的源代码，我们也可以进行插入断点")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/60fad29aa3a1456791eda42939bc6792~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/79fa928aa19143d3a8b8523f6b16997c~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[a("code",[t._v("其次是background.js")]),t._v("，我们回到安装插件的页面（在地址栏输入"),a("code",[t._v("chrome://extensions")]),t._v("）")]),t._v(" "),a("ul",[a("li",[t._v("找到我们的插件")]),t._v(" "),a("li",[t._v("点击查看视图"),a("code",[t._v("service worker")])]),t._v(" "),a("li",[t._v("会弹出一个控制台面板")]),t._v(" "),a("li",[t._v("可以看到面板输出了我们的log语句")]),t._v(" "),a("li",[t._v("同样切换到sources下，可以找到background.js进行断点")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c59457ceb2a0442885ada7f5d5f2fe4e~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d472136507f440ab2b007712d7e9d5a~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("hr"),t._v(" "),a("p",[a("code",[t._v("最后是popup.js")]),t._v("，因为这部分是属于弹窗展示的js，所以我们需要在弹窗上面右键，点击审查弹出内容；点击后同样是一个调试面板，同样可以看到我们的popup.js中的log，同样可以调试debugger源码，这里就不赘述了。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c2575e238e4a428894b9c13a6aa25b69~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7f9358132614520aa9e73d2635f58c8~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_5、总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、总结"}},[t._v("#")]),t._v(" 5、总结")]),t._v(" "),a("p",[t._v("chrome插件的调试的几种方面，其实都跟我们平常页面开发类似，有一个调试面板，关键是不同的js文件需要不同的打开方式，打开之后查看log，插入断点都是一致的；学会调试后，开发效率日益飞速增长啦～喜欢的话点个赞吧")])])}),[],!1,null,null,null);a.default=e.exports}}]);