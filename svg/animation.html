<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG Animation - Scalable Vector Graphics</title>
  <script src="https://cdn.jsdelivr.net/npm/gsap"></script>
  <script src="https://unpkg.com/gsap@3.10.4/dist/MotionPathPlugin.min.js"></script>
  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js"></script>
  <style>
    * { margin: 0; padding: 0; }
    svg {
      border: 1px solid red;
      border-radius: 4px;
      margin: 10px;
    }
    .svgBtn {
      background: #000;
      border: none;
      padding: 20px;
    }
    .svgBtn .rect {
      stroke-dasharray: 200 540;
      stroke-dashoffset: -445;
      stroke-width: 8px;
      cursor: pointer;
    }
    @keyframes testAni {
      0% {
        stroke-dashoffset: 0%;
      }
    }
    @keyframes lightButton {
      0% {
        stroke-dasharray: 200 540;
        stroke-dashoffset: -445;
        stroke-width: 2px;
      }
      100% {
        stroke-dasharray: 760;
        stroke-dashoffset: 0;
        stroke-width: 2px;
      }
    }
    .svgBtn:hover .rect {
      animation: 0.5s lightButton linear forwards;
    }

    #airplane {
      border: none;
    }

    #guangdong:hover {
      stroke-width: 2px;
    }
  </style>
</head>
<body>
  <svg>
    <!-- <path id="lovePath" d="
      M0 75
      A20 20 0 0 1 40 75,
      A20 20 0 0 1 80 75,
      Q80 115 40 145
      Q0 115 0 75
    " fill="none" stroke="red" transform="translate(50, 0)" /> -->
    <path id="lovePath" fill="none" stroke="red" transform="translate(50, 0)"></path>
  </svg>

  <svg class="svgBtn" width="320" height="60">
    <text x="90" y="40" font-size="28" fill="#fff">Click Me!</text>
    <rect class="rect" width="320" height="60" fill="transparent" stroke="#fff"></rect>
  </svg>
  
  <svg class="svgBtn svgBtn2" width="320" height="60">
    <defs>
      <linearGradient id="linearGradient" x1="0" y1="0" x2="100%" y2="0">
        <stop offset="0%" stop-color="orange"  />
        <stop offset="100%" stop-color="red" />
      </linearGradient>

    </defs>
    <rect class="rect" width="320" height="60" stroke="url(#linearGradient)"></rect>
    <text x="90" y="40" font-size="28" fill="url(#linearGradient)">Click Me!</text>
  </svg>


  <!-- 运行轨迹 -->
  <svg width="765.665947px" height="469.736299px" viewBox="0 0 765.665947 469.736299" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <path id="airplane-path" d="M0.499735175,469.720028 C2.33633892,413.313 51.1574483,354.029146 146.963063,291.868465 C222.385572,242.93277 282.884394,226.38183 420.568532,201.778622 C439.708554,198.358431 555.18903,199.612718 674.408376,129.450497 C697.937792,115.603112 728.208625,72.5288934 765.220876,0.227840418" id="路径" stroke="#979797"></path>
    </g>
  </svg>

  <!-- 运行轨迹的飞机 -->
  <svg id="airplane" t="1688005895498" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2585" width="64" height="64">
    <path d="M512.5 436.5c-6.3 0-12.3-3.8-14.8-10L375.2 122.4c-2.2-5.4-1.2-11.6 2.5-16.2 3.8-4.5 9.7-6.6 15.4-5.4L497 121.6c4.2 0.8 7.8 3.3 10.2 6.8l160.3 241.1c4.9 7.3 2.9 17.2-4.5 22.1-7.4 4.9-17.3 2.9-22.2-4.5L484.2 151.6l-68.3-13.7 111.3 276.7c3.3 8.2-0.7 17.5-8.9 20.8-1.8 0.7-3.9 1.1-5.8 1.1zM593.5 928.3c-2 0-4-0.4-5.9-1.1-5.4-2.2-9.3-7.2-10-13L539 587.3c-1-8.8 5.2-16.7 13.9-17.8 8.7-1 16.7 5.2 17.7 14l35.1 297.4 53.2-45L683 552.8c0.7-8.8 8.5-15.3 17.2-14.6 8.8 0.8 15.3 8.5 14.5 17.3L690 845.2c-0.4 4.2-2.4 8.1-5.6 10.9l-80.8 68.3c-2.7 2.6-6.4 3.9-10.1 3.9z" fill="#4780FF" p-id="2586"></path><path d="M895.1 414.1c12 46.8-16.8 94.4-64 105.5L211.8 652.1c-32.5 7-64.7-13-73-45.1" fill="#D4E3FF" p-id="2587"></path><path d="M198.6 654c-28 0-53.1-18.7-60.3-46.9l1-0.2c8.2 32 40 51.7 72.4 44.7L831 519.1c22.7-5.3 41.8-19.2 53.9-39.1 12.1-19.9 15.5-43.2 9.8-65.8l1-0.2c5.8 22.8 2.3 46.4-9.9 66.5s-31.6 34.2-54.5 39.6L211.9 652.5c-4.4 1-8.9 1.5-13.3 1.5z" fill="#1D59E4" p-id="2588"></path><path d="M236.9 806.5c-2.7 0-5.5-0.4-8.2-1.4-10.6-3.6-17.2-13.4-16.6-24.5l0.6-135.3c0-8.8 7.2-15.9 16-15.9h0.1c8.8 0 16 7.2 15.9 16.1l-0.5 108.6 80-137.6c4.4-7.6 14.2-10.2 21.9-5.8 7.6 4.4 10.2 14.2 5.8 21.9l-94.2 162.1c-0.1 0.2-0.3 0.5-0.4 0.7-4.7 7.1-12.3 11.1-20.4 11.1zM196.7 537c-5.6 0-11.1-3-14-8.3l-65.9-119.9c-5.9-9.5-4.7-21.4 2.8-29.7 7.7-8.5 19.7-10.5 29.8-5.1 0.2 0.1 0.5 0.3 0.7 0.4l161.2 98.2c7.6 4.6 10 14.5 5.4 22.1-4.6 7.6-14.5 10-22 5.4l-137-83.5 53 96.5c4.3 7.8 1.5 17.6-6.3 21.8-2.4 1.4-5.1 2.1-7.7 2.1z" fill="#FF6D47" p-id="2589"></path><path d="M196.2 666.2c-34.9 0-66.2-23.4-75.2-58.5-10.4-40.6 13-81.7 53.2-93.7l606.2-180c0.1 0 0.2-0.1 0.3-0.1 26.8-7.4 54.8-3.7 78.8 10.2 23.9 13.9 40.9 36.3 47.8 63.1 6.9 26.8 2.8 54.6-11.6 78.2-14.4 23.7-37.2 40.3-64.2 46.7-0.1 0-0.2 0-0.3 0.1L212.8 664.5c-5.6 1.2-11.1 1.7-16.6 1.7z m593.2-301.4l-606 180c-23.7 7-37.4 31.2-31.3 55.1 6.1 23.9 29.9 38.5 54 33.4L824.4 501c18.5-4.4 34.2-15.8 44-32.1 9.8-16.3 12.7-35.3 7.9-53.7-4.7-18.4-16.4-33.8-32.8-43.3-16.5-9.6-35.7-12.1-54.1-7.1z" fill="#4780FF" p-id="2590"></path>
  </svg>

  <svg width="400" height="400" viewBox="0 0 1200 1200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- 五角星 -->
    <path id="t1" d="M79.4132191,1.12977573 L103.621221,50.1805444 L157.751958,58.0462009 L118.582588,96.2268996 L127.829222,150.138911 L79.4132191,124.685112 L30.9972161,150.138911 L40.2438498,96.2268996 L1.07448057,58.0462009 L55.2052176,50.1805444 L79.4132191,1.12977573 Z" fill="#000000"></path>
    <!-- 矩形  -->
    <rect id="t2" fill-opacity="0" fill="#D8D8D8" x="100" y="100" width="300" height="300"></rect>
    <!-- 狗 -->
    <path id="t3" d="M1307.555708 87.896996v-1.230558h-1.054764c-2.109528 0-38.674678-7.207554-65.043777-10.899228l17.5794-75.591416h-17.5794L1143.539914 73.833476s-20.040515 29.709185-24.786953 35.158799L888.814421 293.400172l-451.966352 8.262317a210.95279 210.95279 0 0 0-193.373391 127.099056l-65.922747 129.91176a239.255622 239.255622 0 0 1-44.124292 61.000515 233.454421 233.454421 0 0 1-73.657682 49.925493 94.049785 94.049785 0 0 0-59.418369 87.896996v17.579399h1.75794c87.896996 0 153.292361-21.446867 203.92103-67.680687L269.667983 632.858369 263.690987 658.172704l-40.432618 74.185064-74.712446 67.153305-20.743691 164.191588 7.910729 60.121545h107.761717v-1.933734c1.054764-10.899227 4.570644-44.124292-15.821459-47.640172l-32.346095-8.613905v-4.922232l15.645666-79.810472 45.354849-52.738197 20.919485-12.657168v117.957768l26.017511 90.533906h107.585923v-2.285322c0-17.579399-6.680172-45.179056-25.138541-47.99176l-38.850472-7.910729v-5.098026l6.328584-79.634678 119.188326-131.6697 70.317597-104.42163 174.387639 24.962746h95.983519l6.15279 123.055794-16.348841 175.793992v55.023519h112.859742v-2.285322c0-17.579399-13.008755-48.519142-30.939742-52.738197l-19.161545-3.691674v-4.746438l50.277081-209.546438 42.366352 173.684464L1002.025751 1022.417854v1.406352h107.410129v-11.426609a42.893734 42.893734 0 0 0-31.115537-41.663176l-33.576652-5.27382-20.743691-45.530644v-152.589184l28.830215-127.626438 28.65442-114.969271 41.135794-87.896995 163.136824-165.246352h110.574421l49.573905-81.92V150.479657l-119.891502-17.579399z" p-id="4246" fill-opacity="0"></path>
    <!-- 猫咪 -->
    <path id="t4" d="M581.18 384c-40.36 0-213.64 3.96-325.18 171.9V384c0-105.88-86.12-192-192-192-35.34 0-64 28.66-64 64s28.66 64 64 64c35.28 0 64 28.72 64 64v512c0 70.6 57.4 128 128 128h352c17.68 0 32-14.32 32-32v-32c0-35.34-28.66-64-64-64h-64l256-192v288c0 17.68 14.32 32 32 32h64c17.68 0 32-14.32 32-32V579.72c-20.58 5.34-41.78 9.08-64 9.08-123.62 0-227.04-88.1-250.82-204.8zM896 192h-128l-128-128v268.8c0 106.04 85.96 192 192 192s192-85.96 192-192V64l-128 128z m-144 160c-17.68 0-32-14.32-32-32s14.32-32 32-32 32 14.32 32 32-14.32 32-32 32z m160 0c-17.68 0-32-14.32-32-32s14.32-32 32-32 32 14.32 32 32-14.32 32-32 32z" p-id="6340" fill-opacity="0"></path>
  </svg>

  <svg 
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    width="682px" height="119px">
    <text id="path1" kerning="auto" font-family="Myriad Pro" fill="rgb(0, 0, 0)" font-size="100px" x="12px" y="98.998px"><tspan font-size="100px" font-family="Hiragino Sans GB" fill="#FF0000">&#20170;&#22825;&#22825;&#27668;&#19981;&#38169;&#65281;</tspan></text>
    <text kerning="auto" font-family="Myriad Pro" stroke-width="10px" stroke="rgb(240, 194, 194)" fill-opacity="0" stroke-opacity="0.54" font-size="100px" x="12px" y="98.998px"><tspan font-size="100px" font-family="Hiragino Sans GB" fill="#FF0000">&#20170;&#22825;&#22825;&#27668;&#19981;&#38169;&#65281;</tspan></text>
  </svg>
  


  <svg width="462.387587px" height="278.146545px" viewBox="0 0 462.387587 278.146545" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="广东地图" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <path id="guangdong" d="M11.3422692,252.334976 C22.7843681,249.463554 27.5974962,235.974486 30.5250906,225.363839 C32.3785173,218.64636 35.9675324,200.734168 35.021601,193.238359 C31.182619,162.817261 21.020969,155.378454 41.1164597,133.151031 C43.603897,130.399702 46.536643,128.075097 49.4357965,125.761643 C66.205023,112.380207 84.6086662,100.912079 100.1074,86.0776928 C145.766184,42.3760552 116.156386,55.7370426 155.309859,7.21967947 C160.275094,1.06696508 196.541086,-0.462540691 200.948647,1.03235436 C219.041291,7.168766 214.803528,18.9888425 233.309255,22.3656807 C239.184127,23.4376997 245.122312,20.4451212 251.086587,20.1438445 C259.811339,19.7031263 268.605093,19.2412434 277.294215,20.1438445 C301.915831,22.7014675 324.045912,34.9496738 348.900218,30.6348214 C369.279167,27.0969173 396.907273,12.4109231 418.094169,23.3801695 C428.373169,28.7019913 423.236623,32.0260647 430.960212,43.3264994 C436.405396,51.293384 443.825014,57.7440961 449.619938,65.4603209 C451.108269,67.442107 452.632287,69.7613535 452.673972,72.2394311 C452.925072,87.1668888 450.557047,102.045288 450.48648,116.97469 C450.447537,125.213769 461.130341,133.278129 461.653783,139.716148 C462.668228,152.193195 459.748861,164.793994 456.76363,176.951058 C455.631183,181.562838 442.126369,188.640883 440.058909,189.502716 C412.622702,200.93966 393.955202,204.900569 363.816375,202.989605 C358.695548,202.664917 349.640461,196.943179 343.386577,198.662176 C338.81824,199.917869 335.305523,204.354639 330.594507,204.857427 C324.915646,205.463509 319.429772,201.447835 313.731272,201.82717 C300.374243,202.716314 290.71266,218.733775 275.36563,212.357775 C269.851454,210.066884 273.277475,200.567187 271.503175,194.865769 C271.065274,193.458649 270.222943,190.874642 268.826932,191.346761 C257.343034,195.23051 252.869376,214.8109 242.952183,215.876783 C224.726781,217.835619 220.627766,208.208674 208.409367,210.386919 C19.8316069,244.005777 316.014961,191.545461 161.840631,231.049204 C156.320814,232.463534 150.976237,227.434004 145.34462,226.565903 C142.120282,226.068878 138.781431,226.441928 135.566955,226.999174 C113.471037,230.829617 98.5696323,252.762648 77.083259,258.202631 C66.4802964,260.887121 54.9078705,259.570407 44.7015152,263.502279 C26.4711498,270.525301 45.4264186,280.339423 9.29744015,276.864999 C6.53470362,276.599314 3.5052785,276.088127 1.37174616,274.312925 C-2.05388816,271.462632 5.72523388,266.387004 5.90788502,266.220792 L11.3422692,252.334976 Z" id="路径" stroke="#979797"></path>
    </g>
  </svg>


  <svg width="462.387587px" height="278.145935px" viewBox="0 0 462.387587 278.145935" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g fill="none" stroke="blue">
      <path id="gpdd" d="M11.3422692,252.334976 C22.7843681,249.463554 27.5974962,235.974486 30.5250906,225.363839 C32.3785173,218.64636 35.9675324,200.734168 35.021601,193.238359 C31.182619,162.817261 21.020969,155.378454 41.1164597,133.151031 C43.603897,130.399702 46.536643,128.075097 49.4357965,125.761643 C66.205023,112.380207 84.6086662,100.912079 100.1074,86.0776928 C145.766184,42.3760552 116.156386,55.7370426 155.309859,7.21967947 C160.275094,1.06696508 196.541086,-0.462540691 200.948647,1.03235436 C219.041291,7.168766 214.803528,18.9888425 233.309255,22.3656807 C239.184127,23.4376997 245.122312,20.4451212 251.086587,20.1438445 C259.811339,19.7031263 268.605093,19.2412434 277.294215,20.1438445 C301.915831,22.7014675 324.045912,34.9496738 348.900218,30.6348214 C369.279167,27.0969173 396.907273,12.4109231 418.094169,23.3801695 C428.373169,28.7019913 423.236623,32.0260647 430.960212,43.3264994 C436.405396,51.293384 443.825014,57.7440961 449.619938,65.4603209 C451.108269,67.442107 452.632287,69.7613535 452.673972,72.2394311 C452.925072,87.1668888 450.557047,102.045288 450.48648,116.97469 C450.447537,125.213769 461.130341,133.278129 461.653783,139.716148 C462.668228,152.193195 459.748861,164.793994 456.76363,176.951058 C455.631183,181.562838 442.126369,188.640883 440.058909,189.502716 C412.622702,200.93966 393.955202,204.900569 363.816375,202.989605 C358.695548,202.664917 349.640461,196.943179 343.386577,198.662176 C338.81824,199.917869 335.305523,204.354639 330.594507,204.857427 C324.915646,205.463509 319.429772,201.447835 313.731272,201.82717 C300.374243,202.716314 290.71266,218.733775 275.36563,212.357775 C269.851454,210.066884 273.277475,200.567187 271.503175,194.865769 C271.065274,193.458649 270.222943,190.874642 268.826932,191.346761 C257.343034,195.23051 252.869376,214.8109 242.952183,215.876783 C224.726781,217.835619 220.627766,208.208674 208.409367,210.386919 C19.8316069,244.005777 316.014961,191.545461 161.840631,231.049204 C156.320814,232.463534 150.976237,227.434004 145.34462,226.565903 C142.120282,226.068878 138.781431,226.441928 135.566955,226.999174 C113.471037,230.829617 98.5696323,252.762648 77.083259,258.202631 C66.4802964,260.887121 54.9078705,259.570407 44.7015152,263.502279 C26.4711498,270.525301 45.4264186,280.339423 9.29744015,276.864999 C6.53470362,276.599314 3.5052785,276.088127 1.37174616,274.312925 C-2.05388816,271.462632 5.72523388,266.387004 5.90788502,266.220792 L11.3422692,252.334976 Z"></path>
      <path id="gp2" d="M72.3828623,108.784223 C105.456447,122.757228 92.6303087,129.821045 103.748017,167.378069 C108.216869,182.474414 123.249953,191.131848 127.039462,206.435634 C128.952155,214.159974 123.750952,222.37662 123.515648,230.538948" id="路径-3" stroke="#979797"></path>
      <path id="gp3" d="M128.575373,52.8102102 C167.926087,74.6366306 195.407437,104.276072 208.166436,149.161345 C212.377059,163.974027 218.899562,197.265483 207.881532,211.495359" id="路径-4" stroke="#979797"></path>
      <path id="gp4" d="M105.903006,170.867608 C126.072612,162.60676 182.39374,148.721569 197.537157,121.866248" id="路径-5" stroke="#979797"></path>
      <path id="gp5" d="M185.479074,99.0160833 C233.982417,83.1294635 234.341764,66.1237886 253.838917,21.3079585" id="路径-6" stroke="#979797"></path>
    </g>
  </svg>

  <script>
    const useJSAnimation = () => {
      const path = document.querySelector('#lovePath')
      let cx1 = 0
      let cx2 = 0
      let cx3 = 0
      let cx4 = 40
      setInterval(() => {
        if (cx1 < 40) {
          cx1++
          path.setAttribute('d', `M0 75, A20 20 0 0 1 ${cx1} 75`)
          return
        }
        if (cx2 < 80) {
          cx2++
          path.setAttribute('d', `M0 75, A20 20 0 0 1 40 75, A20 20 0 0 1 ${cx2} 75,`)
          return
        }
        if (cx3 < 40) {
          cx3++
          path.setAttribute('d', `M0 75, A20 20 0 0 1 40 75, A20 20 0 0 1 80 75, Q80 115 ${cx3} 145`)
          return
        }
        if (cx4 > 0) {
          cx4--
          path.setAttribute('d', `M0 75, A20 20 0 0 1 40 75, A20 20 0 0 1 80 75, Q80 115 40 145, Q0 115 ${cx4} 75`)
          return
        }
      }, 16)
    }


    const gsapAnimate = () => {
      gsap.registerPlugin(MotionPathPlugin);
      gsap.to('#airplane', {
        duration: 10,
        repeat: -1,
        ease: Linear.easeNone,
        motionPath: {
          path: '#airplane-path',
          align: '#airplane-path',
          autoRotate: 30,
          alignOrigin: [1, 1]
        }
      })
  
      const t1 = gsap.timeline({
        repeat: -1,
        repatDelay: 0.3,
        yoyo: true, // 溜溜球？回放,
        defaults: {
          duration: 2
        }
      })
      t1.to('#t1', { morphSVG: '#t1', duration: 2 })
      t1.to('#t1', { morphSVG: '#t2', duration: 2, attr: { fill: 'red', fillOpacity: 1 } })
      t1.to('#t1', { morphSVG: '#t3', duration: 2, attr: { fill: 'skyblue', fillOpacity: 1 } })
      t1.to('#t1', { morphSVG: '#t4', duration: 2 })
    }

    const drawGuangdongMap = () => {
      const path = document.querySelector('#guangdong')
      const length = path.getTotalLength()
      let offset = length
      console.log(length)
      path.setAttribute('stroke-dasharray', length)
      setInterval(() => {
        if (offset > 0) {
          offset--
          path.setAttribute('stroke-dashoffset', offset)
        }
      }, 16)
    }

    // drawGuangdongMap()

    const drawClass = class {
      constructor(id) {
        this.id = id
        this.el = document.querySelector(id)
        this.length = this.el.getTotalLength()
        this.offset = this.length
        this.el.setAttribute('stroke-dasharray', this.length)
        this.updateOffset(this.offset)
        this.callbackFuns = {}
      }
      on(name, callback) {
        if (!this.callbackFuns[name]) {
          this.callbackFuns[name] = []
        }
        callback && this.callbackFuns[name].push(callback)
      }
      emit(name) {
        const funs = this.callbackFuns[name] || []
        funs.forEach(fn => fn())
      }
      updateOffset(offset) {
        this.el.setAttribute('stroke-dashoffset', offset)
      }

      startDrawByInterval() {
        this.timer = setInterval(() => {
          if (this.offset && this.offset > 0) {
            this.offset--
            this.updateOffset(this.offset)
          } else {
            clearInterval(this.timer)
            this.timer = null
            this.emit('done')
          }
        })
      }
    }

    const drawGuangdongMap2 = () => {
      const path = document.querySelector('#gpdd')
      const length = path.getTotalLength()
      let offset = length
      console.log(length)
      let timer = null
      path.setAttribute('stroke-dasharray', length)
      path.setAttribute('stroke-dashoffset', offset)
      // path.style.animation = 'testAni 10s cubic-bezier(0.39, 0.58, 0.57, 1) infinite'

      const dp2 = new drawClass('#gp2')
      const dp3 = new drawClass('#gp3')
      const dp4 = new drawClass('#gp4')
      const dp5 = new drawClass('#gp5')
      const drawOtherLine = () => {
        dp2.startDrawByInterval()
        dp3.startDrawByInterval()
        dp4.startDrawByInterval()
        dp5.startDrawByInterval()
      }
      timer = setInterval(() => {
        if (offset > 0) {
          offset -= 5
          path.setAttribute('stroke-dashoffset', offset)
        } else {
          clearInterval(timer)
          timer = null
          drawOtherLine()
        }
      }, 16)
    }

    drawGuangdongMap2()
</script>
</body>
</html>